# Assignment 2
In this assignment I built on-top of the cloud-based components developed in the first assignment. I replaced the virtual environmental stations developed using Java with new ones built using the [*RIOT-OS*](https://riot-os.org/) and MQTT-SN protocol. I used the native emulator of *RIOT-OS* to run the stations and generate values over MQTT-SN that need to arrive to the cloud via the MQTT. I also used [*IOT-LAB*](https://www.iot-lab.info/) to execute the *RIOT-OS* application on real devices.

# Virtual Sensors
Using *RIOT-OS* I developed an application that represents a virtual environmental station that generates periodically a set of random values for 5 different sensors:

- temperature (-50 ... 50 Celsius)
- humidity (0 ... 100%)
- wind direction (0 ... 360 degrees)
- wind intensity (0 ... 100 m/s)
- rain height (0 ... 50 mm / h)

The virtual environmental station uses a unique ID (identity) to publish these random values on an MQTT-SN channel, so you can start several instances
running using the native emulator of *RIOT-OS* and publishing their values on the MQTT-SN channel.

# MQTT-SN broker
I setup a RSMB where the *RIOT-OS* applications publish their values over UDP/IPv6. The Really Small Message Broker is a server implementation of the MQTT and MQTT-SN protocols over Mosquitto. Any client that implements this protocol properly can use this server for sending and receiving messages.

# MQTT-SN/MQTT transparent bridge
Using *Python* language programming I developed an MQTT-SN/MQTT transparent bridge. The goal of the bridge is to subscribe to a predefined set of topics on the MQTT-SN broker (e.g., RSMB) and forward all messages received to the same topic on the MQTT broker that is controlled by the cloud-based backend (i.e., publish them). I use the MQTT broker configured during the previous assignment via *AWS IoT*.

The values generated by the emulated *RIOT-OS* application developed in the previous steps are visible through the [websites](https://666thenumberofthebeast.github.io/InternetOfThings19-20/) developed in the previous assignment.

# Extra
[Demo](https://youtu.be/DdShk5g0IxQ) of the system.
[Blog Post](https://www.hackster.io/xmetal1997/iot-virtual-environment-stations-emulator-2-0-63a8c0) where you can find a hands-on tutorial on how to setup and run the system.

[Assignment 1](https://github.com/666TheNumberOfTheBeast/InternetOfThings19-20/tree/master/Assignment1)

[Assignment 3](https://github.com/666TheNumberOfTheBeast/InternetOfThings19-20/tree/master/Assignment3)

***
Â© All rights reserved, 666TheNumberOfTheBeast
